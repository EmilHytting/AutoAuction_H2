<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:AutoAuction_H2.ViewModels"
             xmlns:conv="clr-namespace:AutoAuction_H2.Converters"
             x:Class="AutoAuction_H2.Views.ContentPanels.HomeScreenView"
             x:DataType="vm:HomeScreenViewModel">

	<UserControl.Resources>
		<conv:BidStatusConverter x:Key="BidStatusConverter"/>
		<conv:BidStatusTextConverter x:Key="BidStatusTextConverter"/>
	</UserControl.Resources>

	<Grid Margin="10" RowDefinitions="Auto,*" RowSpacing="20">

		<!-- Overskrift -->
		<TextBlock Text="Oversigt" FontSize="16" FontWeight="Bold"/>

		<StackPanel Grid.Row="1" Spacing="25">

			<!-- Mine Auktioner -->
			<StackPanel>
				<TextBlock Text="Dine auktioner" FontSize="12" FontWeight="Bold"/>
				<DataGrid ItemsSource="{Binding MyAuctions}"
                          AutoGenerateColumns="False"
                          IsReadOnly="True"
                          Height="150">
					<DataGrid.Columns>
						<DataGridTextColumn Header="Køretøj" Binding="{Binding Vehicle.Name}" />
						<DataGridTextColumn Header="Mindstepris" Binding="{Binding MinPrice}" />
						<DataGridTextColumn Header="Nuværende bud" Binding="{Binding CurrentBid}" />
						<DataGridTextColumn Header="Slutter" Binding="{Binding EndTime}" />
					</DataGrid.Columns>
				</DataGrid>
			</StackPanel>

			<!-- Aktive Bud -->
			<StackPanel>
				<TextBlock Text="Auktioner du har bud på" FontSize="12" FontWeight="Bold"/>
				<DataGrid ItemsSource="{Binding ActiveBids}"
          AutoGenerateColumns="False"
          IsReadOnly="True"
          Height="200">
					<DataGrid.Columns>
						<!-- Nuværende bud med farve -->
						<DataGridTemplateColumn Header="Nuværende bud" Width="120">
							<DataGridTemplateColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding CurrentBid, StringFormat='{}{0:N0} kr'}"
											   Foreground="{Binding HighestBidderId, Converter={StaticResource BidStatusConverter}}"
											   FontWeight="Bold"
											   HorizontalAlignment="Right"/>
								</DataTemplate>
							</DataGridTemplateColumn.CellTemplate>
						</DataGridTemplateColumn>

						<DataGridTextColumn Header="Slutter" Binding="{Binding EndTime}" Width="150"/>
						<DataGridTextColumn Header="Navn" Binding="{Binding Vehicle.Name}" Width="200"/>
					</DataGrid.Columns>
				</DataGrid>

			</StackPanel>

		</StackPanel>
	</Grid>
</UserControl>
