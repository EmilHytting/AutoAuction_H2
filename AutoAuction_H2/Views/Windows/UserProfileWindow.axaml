<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:AutoAuction_H2.ViewModels"
        x:Class="AutoAuction_H2.Views.Windows.UserProfileWindow"
        Width="560" Height="420"
        SystemDecorations="None"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        ExtendClientAreaTitleBarHeightHint="-1"
        Title="Din profil"
        CanResize="False"
        TransparencyLevelHint="AcrylicBlur,Transparent,Blur"
        Background="Transparent">

	<Border Padding="24" CornerRadius="12" Background="{StaticResource PanelBackgroundBrush}">
		<Grid RowDefinitions="Auto,Auto,Auto,Auto" ColumnDefinitions="*">

			<!-- Background image -->
			<Image Source="avares://AutoAuction_H2/Assets/BackgroundImage.png"
				   Stretch="UniformToFill"
				   Opacity="0.25"
				   IsHitTestVisible="False"
				   Grid.RowSpan="4"/>

			<!-- Header -->
			<StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center" Margin="0,0,0,10">
				<Ellipse Width="40" Height="40" Fill="{StaticResource AccentBrush}"/>
				<TextBlock Text="Din profil" FontSize="26" FontWeight="Bold" VerticalAlignment="Center"/>
			</StackPanel>

			<!-- Profile details -->
			<Border Grid.Row="1" CornerRadius="8" Background="{StaticResource CardBackgroundBrush}" Padding="12" Margin="0,0,0,12">
				<Grid ColumnDefinitions="Auto,*,Auto" RowDefinitions="Auto,Auto,Auto,Auto,Auto">
					<!-- Brugernavn -->
					<TextBlock Text="Brugernavn:" Grid.Row="0" Grid.Column="0" Margin="0,0,12,8"/>
					<TextBlock Text="{Binding UserName}" Grid.Row="0" Grid.Column="1" Margin="0,0,12,8"/>

					<!-- Adgangskode -->
					<TextBlock Text="Adgangskode:" Grid.Row="1" Grid.Column="0" Margin="0,0,12,8"/>
					<TextBlock Text="••••••••" Grid.Row="1" Grid.Column="1" Margin="0,0,12,8"/>
					<Button Content="Skift adgangskode" Grid.Row="1" Grid.Column="2" MinWidth="150" Click="ChangePassword_Click"/>

					<!-- Saldo -->
					<TextBlock Text="Saldo:" Grid.Row="2" Grid.Column="0" Margin="0,0,12,8"/>
					<TextBlock Text="{Binding Balance, StringFormat='{}{0:N0} kr'}" Grid.Row="2" Grid.Column="1"/>

					<!-- BrugerType -->
					<TextBlock Text="Bruger type:" Grid.Row="3" Grid.Column="0" Margin="0,0,12,8"/>
					<TextBlock Text="{Binding UserTypeText}" Grid.Row="3" Grid.Column="1"/>
					<!-- Kreditgrænse (kun relevant for erhverv) -->
					<TextBlock Text="Kreditgrænse:" Grid.Row="4" Grid.Column="0" Margin="0,0,12,8"/>
					<TextBlock Text="{Binding CreditLimit, StringFormat='{}{0:N0} kr'}" Grid.Row="4" Grid.Column="1"/>
				</Grid>
			</Border>

			<!-- Stats cards -->
			<Grid Grid.Row="2" ColumnDefinitions="*,*" ColumnSpacing="12" Margin="0,8,0,16">
				<Border CornerRadius="8" Padding="12" Background="{StaticResource CardBackgroundBrush}">
					<StackPanel HorizontalAlignment="Center">
						<TextBlock Text="📦 Dine auktioner" FontWeight="SemiBold" TextAlignment="Center"/>
						<TextBlock Text="{Binding YourAuctionsCount}" FontSize="24" FontWeight="Bold" TextAlignment="Center"/>
					</StackPanel>
				</Border>
				<Border CornerRadius="8" Padding="12" Grid.Column="1" Background="{StaticResource CardBackgroundBrush}">
					<StackPanel HorizontalAlignment="Center">
						<TextBlock Text="🏆 Vundne auktioner" FontWeight="SemiBold" TextAlignment="Center"/>
						<TextBlock Text="{Binding AuctionsWonCount}" FontSize="24" FontWeight="Bold" TextAlignment="Center"/>
					</StackPanel>
				</Border>
			</Grid>

			<!-- Footer -->
			<StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="8">
				<Button Width="120" Content="Luk" Click="Close_Click"/>
			</StackPanel>

		</Grid>
	</Border>
</Window>
